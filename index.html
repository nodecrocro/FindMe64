<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Open CTF — Hidden Flag (Medium)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="CTF practice: find the hidden flag (category: open, difficulty: medium)">

  <style>
    /* --- Visual layout --- */
    :root{
      --accent: #2b6cb0;
      --bg: #0f172a;
      --card: #0b1220;
      --glass: rgba(255,255,255,0.03);
    }
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:linear-gradient(180deg,var(--bg) 0%, #071024 100%);color:#e6eef8}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:3rem}
    .card{width:900px;max-width:95%;background:linear-gradient(180deg,var(--card),#071428);border-radius:12px;padding:28px;box-shadow:0 10px 30px rgba(2,6,23,0.7);border:1px solid rgba(255,255,255,0.03)}
    h1{margin:0 0 8px;font-size:1.6rem}
    p.lead{margin:0 0 14px;color:#b6c8e6}
    .columns{display:flex;gap:18px}
    .col{flex:1}
    .hint{background:var(--glass);padding:14px;border-radius:8px;color:#cbdff9}
    .footer{margin-top:18px;font-size:0.9rem;color:#98aed6}

    /* --- hidden easter-flag (part 2 stored in CSS content) --- */
    /* The next line contains a chunk of the encoded flag in a pseudo element.
       It's intentionally not visible (opacity:0) —inspect the styles or the stylesheet to find it. */
    .easter::after{
      content: "ZDNuX2luX3MwdXJjM30="; /* -> part 2 of the base64 string (hidden in CSS) */
      display: block;
      font-size: 0.75rem;
      opacity: 0; /* invisible in page layout */
      pointer-events: none;
      user-select: none;
    }

    /* small interactive console we provide to test decoding (it does NOT reveal the flag) */
    .console{background:#071326;border-radius:8px;padding:10px;margin-top:12px;color:#d7eef9;font-family:monospace;min-height:80px}
    .decode-btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:6px;color:var(--accent);cursor:pointer}
    .decode-btn:hover{background:rgba(255,255,255,0.02)}
    .small{font-size:0.85rem;color:#9fb6ea}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Open CTF — Find the Hidden Flag</h1>
      <p class="lead">Category: <strong>open</strong> — Difficulty: <strong>medium</strong></p>

      <div class="columns">
        <div class="col">
          <div class="hint">
            <strong>Challenge</strong>
            <p class="small">A flag is hidden somewhere in the page resources (HTML/CSS). It is encoded and split into pieces. You need to find both pieces and decode them.</p>
            <ul class="small" style="margin:8px 0 0;padding-left:18px">
              <li>Searching the page visible text won't show the flag directly — inspect the source and styles.</li>
              <li>Look for encoded strings (base64-like characters) and pieces that fit together.</li>
            </ul>
          </div>

          <div style="margin-top:12px" class="console" id="console">
            <div class="small">Console: try your commands here (does not reveal the flag automatically).</div>
            <div style="margin-top:8px">
              <button class="decode-btn" id="hintBtn">Get a gentle hint</button>
            </div>
            <div id="hintArea" class="small" style="margin-top:8px;color:#bcd7ff"></div>
          </div>
        </div>

        <div class="col">
          <div class="hint">
            <strong>How to proceed</strong>
            <ol class="small" style="margin:8px 0 0;padding-left:18px">
              <li>Open Developer Tools (F12) or View &rarr; Page Source.</li>
              <li>Search for Base64-looking strings (letters A–Z a–z 0–9 + / = ).</li>
              <li>Find two pieces, concatenate them (partA + partB) and base64-decode them (e.g., `atob()` in the browser console).</li>
            </ol>
          </div>

          <div style="margin-top:12px" class="hint">
            <strong>Extra</strong>
            <p class="small">This page includes a hidden span with a class for fun — it helps with the story but not necessary. Try searching comments and CSS pseudo-elements.</p>
          </div>
        </div>
      </div>

      <div class="footer">
        <span>Author: CTF Trainer</span> — <span>Good luck!</span>
      </div>

      <!--
        PART A OF THE ENCODED FLAG (hidden in HTML comment):
        Note: find this comment via "View Page Source" or inspector -> node -> comments.
        The encoded string is base64 but split; combine with the CSS part.

        Part A (do not reveal to others): RkxBR3ttM2QxdW1faDFk
      -->

      <!-- invisible helper element containing the easter pseudo-element -->
      <span class="easter" style="position: absolute; left: -9999px; top: -9999px;"></span>
    </div>
  </div>

  <script>
    // Reason: small interactive script gives hints only, it does not reveal or decode the flag.
    // It demonstrates safe CTF challenge design: the flag must be found by inspecting sources and decoding manually.
    (function(){
      const hintBtn = document.getElementById('hintBtn');
      const hintArea = document.getElementById('hintArea');
      let hintsGiven = 0;

      hintBtn.addEventListener('click', function(){
        hintsGiven++;
        if(hintsGiven === 1){
          hintArea.textContent = "Hint 1: Check page source comments for unusual alphanumeric strings.";
        } else if (hintsGiven === 2){
          hintArea.textContent = "Hint 2: Look in CSS pseudo-elements (e.g. ::after) for more base64-like text.";
        } else {
          hintArea.textContent = "Hint 3: Concatenate the two parts you find, then use a base64 decoder (browser console: atob('...')).";
        }
      });

      // A tiny no-op function to demonstrate the page is interactive (does nothing with the flag).
      window.safeCheck = function(){
        console.log('This function is safe and does not reveal the flag.');
      };
    })();
  </script>
</body>
</html>
